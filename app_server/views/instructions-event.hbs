<body>
    <div class="return container-fluid" style="margin-top: 1rem;">
        <a href="/instrukcije-dogodki" class="btn btn-info d-inline">Nazaj na seznam dogodkov</a>

        <button class="btn btn-secondary d-inline" id="delete-btn">Izbriši objavo</button>
    </div>

    <div class="card event">
        <img class="card-img-top event-header" src="/assets/pics/oblikovanje.png" alt="Card image cap">
        <div class="card-body event-body">
            <h5 class="card-title">{{naziv}}</h5>
            <hr>
            <p class="card-text">{{opis}}</p>
            <hr>
            <h6>Datum</h6>
            <p>{{datum}}</p>
            <hr>
            <h6>Čas</h6>
            <p>{{ura}}</p>
            <hr>
            <h6>Število prostih mest</h6>
            <p>{{steviloProstihMest}}</p>
            <hr>
            <h6>Cena</h6>
            <p>{{cena}}</p>
            <hr>
            <h6>Prijavi se na dogodek</h6>
            <a href="/ponudba-del/delo" class="btn btn-success">Prijava</a>
        </div>
    </div>

    <div class="card profile">

        <div class="card-body profile-body">
            <img class="profile-thumbnail profile-body-item" src="/assets/pics/instruktor1.jpg" alt="Card image cap">
            <a href="/profil/ogled">
                <h3 class="profile-body-item">{{ime}}</h3>
            </a>
            <hr>
            <h4>Opis uporabnika</h4>
            <p>Dodaj opise inštruktorjem!</p>
            <hr>
            <div id="star-rating">
                <h4>Ocena uporabnika:</h4>
                <span class="fa fa-star checked"></span>
                <span class="fa fa-star checked"></span>
                <span class="fa fa-star checked"></span>
                <span class="fa fa-star"></span>
                <span class="fa fa-star"></span>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            console.log("Stran je odprta");

            var deleteBtn = document.getElementById('delete-btn');
            deleteBtn.addEventListener('click', () => {

                console.log("Delete button has been clicked!")

                var asinhronaZahteva = new XMLHttpRequest();

                asinhronaZahteva.open(
                    "DELETE",
                    window.location.href, //current url
                    true
                )
                /*
                .then((odgovor) => odgovor.json())
                .then((data) => console.log(data))
                .catch((err) => console.log(err));
                */
                asinhronaZahteva.addEventListener("load", function () {
                    var jsonRezultati = JSON.parse(asinhronaZahteva.responseText);
                    console.log(jsonRezultati);
                });

                window.location = "/instrukcije-dogodki";

                asinhronaZahteva.send(null);

            });
        });
    </script>

    {{> carousel}}
</body>